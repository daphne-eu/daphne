
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../DaphneDSL/Imports/">
      
      
        <link rel="next" href="../APIRef/">
      
      
      <link rel="icon" href="../../assets/logo_small.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.44">
    
    
      
        <title>Overview - DAPHNE</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#overview-daphnes-python-api" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="DAPHNE" class="md-header__button md-logo" aria-label="DAPHNE" data-md-component="logo">
      
  <img src="../../assets/logo_small.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DAPHNE
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Overview
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="pink" data-md-color-accent="pink"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/daphne-eu/daphne" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    daphne-eu/daphne
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../.." class="md-tabs__link">
          
  
  Home

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../RunningDaphneLocally/" class="md-tabs__link">
          
  
  Users

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../development/Contributing/" class="md-tabs__link">
          
  
  Developers

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="DAPHNE" class="md-nav__button md-logo" aria-label="DAPHNE" data-md-component="logo">
      
  <img src="../../assets/logo_small.png" alt="logo">

    </a>
    DAPHNE
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/daphne-eu/daphne" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    daphne-eu/daphne
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Home
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Home
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../GettingStarted/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GettingStarted
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Users
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Users
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../RunningDaphneLocally/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RunningDaphneLocally
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DaphneDSL
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            DaphneDSL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DaphneDSL/LanguageRef/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LanguageRef
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DaphneDSL/Builtins/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Builtins
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DaphneDSL/Imports/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Imports
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" checked>
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    DaphneLib
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            DaphneLib
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Overview
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-without-installation" class="md-nav__link">
    <span class="md-ellipsis">
      Use Without Installation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introductory-example" class="md-nav__link">
    <span class="md-ellipsis">
      Introductory Example
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-and-value-types" class="md-nav__link">
    <span class="md-ellipsis">
      Data and Value Types
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#obtaining-daphne-matrices-and-frames" class="md-nav__link">
    <span class="md-ellipsis">
      Obtaining DAPHNE Matrices and Frames
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-complex-computations" class="md-nav__link">
    <span class="md-ellipsis">
      Building Complex Computations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Building Complex Computations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python-operators" class="md-nav__link">
    <span class="md-ellipsis">
      Python Operators
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Python Operators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#binary-operators" class="md-nav__link">
    <span class="md-ellipsis">
      Binary Operators
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#indexing" class="md-nav__link">
    <span class="md-ellipsis">
      Indexing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matrixframescalar-methods" class="md-nav__link">
    <span class="md-ellipsis">
      Matrix/Frame/Scalar Methods
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-exchange-with-other-python-libraries" class="md-nav__link">
    <span class="md-ellipsis">
      Data Exchange with other Python Libraries
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data Exchange with other Python Libraries">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-exchange-with-numpy" class="md-nav__link">
    <span class="md-ellipsis">
      Data Exchange with numpy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-exchange-with-pandas" class="md-nav__link">
    <span class="md-ellipsis">
      Data Exchange with pandas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-exchange-with-tensorflow" class="md-nav__link">
    <span class="md-ellipsis">
      Data Exchange with TensorFlow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-exchange-with-pytorch" class="md-nav__link">
    <span class="md-ellipsis">
      Data Exchange with PyTorch
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#known-limitations" class="md-nav__link">
    <span class="md-ellipsis">
      Known Limitations
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../APIRef/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    APIRef
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Numpy2DaphneLib/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Numpy2DaphneLib
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../FileMetaDataFormat/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FileMetaDataFormat
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DistributedRuntime/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DistributedRuntime
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SchedulingOptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SchedulingOptions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_8" >
        
          
          <label class="md-nav__link" for="__nav_2_8" id="__nav_2_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tutorials
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_8">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/sqlTutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sqlTutorial
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../FPGAconfiguration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FPGAconfiguration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../MPI-Usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MPI Usage
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Profiling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Profiling
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Developers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Developers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/Contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/BuildingDaphne/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BuildingDaphne
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Deploy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deploy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ReleaseScripts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ReleaseScripts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../BinaryFormat/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BinaryFormat
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/Logging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Logging
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/ExtendingDistributedRuntime/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ExtendingDistributedRuntime
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/ExtendingSchedulingKnobs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ExtendingSchedulingKnobs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/HandlingPRs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HandlingPRs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/ImplementBuiltinKernel/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ImplementBuiltinKernel
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/Profiling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Profiling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/WriteDocs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WriteDocs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../development/Testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Testing
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-without-installation" class="md-nav__link">
    <span class="md-ellipsis">
      Use Without Installation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introductory-example" class="md-nav__link">
    <span class="md-ellipsis">
      Introductory Example
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-and-value-types" class="md-nav__link">
    <span class="md-ellipsis">
      Data and Value Types
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#obtaining-daphne-matrices-and-frames" class="md-nav__link">
    <span class="md-ellipsis">
      Obtaining DAPHNE Matrices and Frames
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-complex-computations" class="md-nav__link">
    <span class="md-ellipsis">
      Building Complex Computations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Building Complex Computations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python-operators" class="md-nav__link">
    <span class="md-ellipsis">
      Python Operators
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Python Operators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#binary-operators" class="md-nav__link">
    <span class="md-ellipsis">
      Binary Operators
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#indexing" class="md-nav__link">
    <span class="md-ellipsis">
      Indexing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matrixframescalar-methods" class="md-nav__link">
    <span class="md-ellipsis">
      Matrix/Frame/Scalar Methods
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-exchange-with-other-python-libraries" class="md-nav__link">
    <span class="md-ellipsis">
      Data Exchange with other Python Libraries
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data Exchange with other Python Libraries">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-exchange-with-numpy" class="md-nav__link">
    <span class="md-ellipsis">
      Data Exchange with numpy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-exchange-with-pandas" class="md-nav__link">
    <span class="md-ellipsis">
      Data Exchange with pandas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-exchange-with-tensorflow" class="md-nav__link">
    <span class="md-ellipsis">
      Data Exchange with TensorFlow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-exchange-with-pytorch" class="md-nav__link">
    <span class="md-ellipsis">
      Data Exchange with PyTorch
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#known-limitations" class="md-nav__link">
    <span class="md-ellipsis">
      Known Limitations
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="overview-daphnes-python-api">Overview: DAPHNE's Python API</h1>
<p>DaphneLib is a simple user-facing Python API that allows calling individual basic and higher-level DAPHNE built-in functions.
The overall design follows similar abstractions like PySpark and Dask by using lazy evaluation. When the evaluation is triggered, DaphneLib assembles and executes a <a href="/daphne/DaphneDSL/LanguageRef">DaphneDSL</a> script that uses the entire DAPHNE compilation and runtime stack, including all optimizations.
Users can easily mix and match DAPHNE computations with other Python libraries and plotting functionality.</p>
<p><strong>DaphneLib is still in an experimental stage, feedback and bug reports via GitHub issues are highly welcome.</strong></p>
<h2 id="prerequisites">Prerequisites</h2>
<p><strong>Provide DAPHNE:</strong></p>
<ul>
<li><code>libdaphnelib.so</code> and <code>libAllKernels.so</code> must be present</li>
<li>Building the project with <code>./build.sh --target daphnelib</code> achieves this (this creates a <code>lib</code> dir in the <code>daphne</code> project root)</li>
<li>OR use the <code>lib/</code> dir of a release</li>
<li><code>LD_LIBRARY_PATH</code> must be set (e.g., executed from <code>daphne/</code>: <code>export LD_LIBRARY_PATH=$PWD/lib:$LD_LIBRARY_PATH</code>)</li>
<li>Set the environment variable <code>DAPHNELIB_DIR_PATH</code> to the path were the libraries (<code>*.so</code> files) are placed, e.g., <code>path/to/daphne/lib/</code></li>
</ul>
<h2 id="installation">Installation</h2>
<ul>
<li>There are two options to install the Python package <code>daphne</code> (DaphneLib)</li>
<li>Via github url: <code>pip install git+https://github.com/daphne-eu/daphne.git@main#subdirectory=src/api/python</code></li>
<li>OR clone the DAPHNE repository and install from source files: <code>pip install daphne/src/api/python</code></li>
<li>
<p><em>Recommendation:</em> Use a virtual environment</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>python3<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>my_venv
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="nb">source</span><span class="w"> </span>my_venv/bin/activate
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>pip<span class="w"> </span>install<span class="w"> </span>...
</code></pre></div>
</li>
</ul>
<h2 id="use-without-installation">Use Without Installation</h2>
<ul>
<li>In a cloned DAPHNE repository, DaphneLib can also be used without installing the Python package <code>daphne</code></li>
<li>To this end, <code>python3</code> must be told where to find the package by adding the respective directory to the Python path</li>
<li>From the DAPHNE root directory, execute: <code>export PYTHONPATH="$PYTHONPATH:$PWD/src/api/python/"</code></li>
<li>OR execute the script <code>run_python.sh</code> (instead of <code>python3</code>) from the DAPHNE root directory, e.g., <code>./run_python.sh myScript.py</code></li>
</ul>
<h2 id="introductory-example">Introductory Example</h2>
<p>The following simple example script generates a <em>5x3</em> matrix of random values in <span class="arithmatex">\([0, 1)\)</span> using numpy, imports the data to DAPHNE, and shifts and scales the data such that each column has a mean of <em>0</em> and a standard deviation of <em>1</em>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1"># (1) Import DaphneLib.</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="kn">from</span> <span class="nn">daphne.context.daphne_context</span> <span class="kn">import</span> <span class="n">DaphneContext</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="c1"># (2) Create DaphneContext.</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="n">dc</span> <span class="o">=</span> <span class="n">DaphneContext</span><span class="p">()</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="c1"># (3) Obtain a DAPHNE matrix.</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="n">X</span> <span class="o">=</span> <span class="n">dc</span><span class="o">.</span><span class="n">from_numpy</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="c1"># (4) Define calculations in DAPHNE.</span>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="n">Y</span> <span class="o">=</span> <span class="p">(</span><span class="n">X</span> <span class="o">-</span> <span class="n">X</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span> <span class="o">/</span> <span class="n">X</span><span class="o">.</span><span class="n">stddev</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a><span class="c1"># (5) Compute result in DAPHNE.</span>
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a><span class="nb">print</span><span class="p">(</span><span class="n">Y</span><span class="o">.</span><span class="n">compute</span><span class="p">())</span>
</code></pre></div>
<p>First, DAPHNE's Python library must be imported <strong>(1)</strong>.</p>
<p>Then, a <code>DaphneContext</code> must be created <strong>(2)</strong>.
The <code>DaphneContext</code> offers means to obtain DAPHNE matrices and frames, which serve as the starting point for defining complex computations.
Here, we generate some random data in numpy and import it to DAPHNE <strong>(3)</strong>.</p>
<p>Based on DAPHNE matrices/frames/scalars (and Python scalars), complex expressions can be defined <strong>(4)</strong> using Python operators (such as <code>-</code> and <code>/</code> above) and methods on the DAPHNE matrices/frames/scalars (such as <code>mean()</code> and <code>stddev()</code> above).
The results of these expressions again represent DAPHNE matrices/frames/scalars.</p>
<p>Up until here, no acutal computations are performed.
Instead, an internal DAG (directed acyclic graph) representation of the computation is built.
When calling <code>compute()</code> on the result <strong>(5)</strong>, the DAG is automatically optimized and executed by DAPHNE.
This principle is known as <em>lazy evaluation</em>.
(Internally, a <a href="/daphne/DaphneDSL/LanguageRef">DaphneDSL</a> script is created, which is sent through the entire DAPHNE compiler and runtime stack, thereby profiting from all optimizations in DAPHNE.)
The result is returned as a <code>numpy.ndarray</code> (for DAPHNE matrices), as a <code>pandas.DataFrame</code> (for DAPHNE frames), or as a plain Python scalar (for DAPHNE scalars), and can then be further used in Python.</p>
<p>The script above can be executed by:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>python3<span class="w"> </span>scripts/examples/daphnelib/shift-and-scale.py
</code></pre></div>
<p>The remainder of this document presents the core features of DaphneLib <em>as they are right now</em>, but <em>note that DaphneLib is still under active development</em>.</p>
<h2 id="data-and-value-types">Data and Value Types</h2>
<p>DAPHNE differentiates <em>data types</em> and <em>value types</em>.</p>
<p>Currently, DAPHNE supports the following <em>abstract</em> <strong>data types</strong>:</p>
<ul>
<li><code>matrix</code>: homogeneous value type for all cells</li>
<li><code>frame</code>: a table with columns of potentially different value types</li>
<li><code>scalar</code>: a single value</li>
</ul>
<p><strong>Value types</strong> specify the representation of individual values. We currently support:</p>
<ul>
<li>floating-point numbers of various widths: <code>f64</code>, <code>f32</code></li>
<li>signed and unsigned integers of various widths: <code>si64</code>, <code>si32</code>, <code>si8</code>, <code>ui64</code>, <code>ui32</code>, <code>ui8</code></li>
<li>strings <code>str</code> <em>(currently only for scalars, support for matrix elements is still experimental)</em></li>
<li>booleans <code>bool</code> <em>(currently only for scalars)</em></li>
</ul>
<p>Data types and value types can be combined, e.g.:</p>
<ul>
<li><code>matrix&lt;f64&gt;</code> is a matrix of double-precision floating point values</li>
</ul>
<p>In DaphneLib, each node of the computation DAG has one of the types <code>daphne.operator.nodes.matrix.Matrix</code>, <code>daphne.operator.nodes.frame.Frame</code>, or <code>daphne.operator.nodes.scalar.Scalar</code>.
The type of a node determines which methods can be invoked on it (see <a href="/daphne/DaphneLib/APIRef">DaphneLib API reference</a>).</p>
<h2 id="obtaining-daphne-matrices-and-frames">Obtaining DAPHNE Matrices and Frames</h2>
<p>The <code>DaphneContext</code> offers means to obtain DAPHNE matrices and frames, which serve as the starting point for defining complex computations.
More precisely, DAPHNE matrices and frames can be obtained in the following ways:</p>
<ul>
<li>importing data from other Python libraries (e.g., numpy and pandas)</li>
<li>generating data in DAPHNE (e.g., random data, constants, or sequences)</li>
<li>reading files using DAPHNE's readers (e.g., CSV, Matrix Market, Parquet, DAPHNE binary format)</li>
</ul>
<p>A comprehensive list can be found in the <a href="/daphne/DaphneLib/APIRef#daphnecontext">DaphneLib API reference</a>.</p>
<h2 id="building-complex-computations">Building Complex Computations</h2>
<p>Based on DAPHNE matrices/frames/scalars and Python scalars, complex expressions can be defined by</p>
<ul>
<li>Python operators</li>
<li>DAPHNE matrix/frame/scalar methods</li>
</ul>
<p>The results of these expressions again represent DAPHNE matrices/frames/scalars.</p>
<h3 id="python-operators">Python Operators</h3>
<h4 id="binary-operators">Binary Operators</h4>
<p>DaphneLib currently supports the following binary operators on DAPHNE matrices/frames/scalars:</p>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>@</code></td>
<td>matrix multiplication</td>
</tr>
<tr>
<td><code>**</code></td>
<td>exponentiation</td>
</tr>
<tr>
<td><code>*</code>, <code>/</code>, <code>%</code></td>
<td>multiplication, division, modulo</td>
</tr>
<tr>
<td><code>+</code>, <code>-</code></td>
<td>addition/string concatenation, subtraction</td>
</tr>
<tr>
<td><code>==</code>, <code>!=</code>, <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code>, <code>&gt;=</code></td>
<td>comparison</td>
</tr>
</tbody>
</table>
<p><em>We plan to add more operators, including unary operators.</em></p>
<p><em>Matrix multiplication (<code>@</code>):</em>
The inputs must be matrices of compatible shapes, and the output is always a matrix.</p>
<p><em>All other operators:</em>
The following table shows which combinations of inputs are allowed and which result they yield:</p>
<table>
<thead>
<tr>
<th>Left input</th>
<th>Right input</th>
<th>Result</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td>scalar</td>
<td>scalar</td>
<td>scalar</td>
<td>binary operation of two scalars</td>
</tr>
<tr>
<td>matrix (n x m)</td>
<td>scalar</td>
<td>matrix (n x m)</td>
<td>element-wise operation of each value with scalar</td>
</tr>
<tr>
<td>scalar</td>
<td>matrix (n x m)</td>
<td>matrix (n x m)</td>
<td>element-wise operation of scalar with each value <strong>(*)</strong></td>
</tr>
<tr>
<td>matrix (n x m)</td>
<td>matrix (n x m)</td>
<td>matrix (n x m)</td>
<td>element-wise operation on corresponding values</td>
</tr>
<tr>
<td>matrix (n x m)</td>
<td>matrix (1 x m)</td>
<td>matrix (n x m)</td>
<td>broadcasting of row-vector</td>
</tr>
<tr>
<td>matrix (n x m)</td>
<td>matrix (n x 1)</td>
<td>matrix (n x m)</td>
<td>broadcasting of column-vector</td>
</tr>
</tbody>
</table>
<p><strong>(*)</strong> <em>Scalar-<code>op</code>-matrix</em> operations are so far only supported for <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>; for <code>/</code> only if the matrix is of a floating-point value type.</p>
<p>In the future, we will fully support <em>scalar-<code>op</code>-matrix</em> operations as well as row/column-matrices as the left-hand-side operands.</p>
<p><em>Examples:</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="mf">1.5</span> <span class="o">*</span> <span class="n">X</span> <span class="o">@</span> <span class="n">y</span> <span class="o">+</span> <span class="mf">0.001</span>
</code></pre></div>
<h4 id="indexing">Indexing</h4>
<p>DaphneLib supports right and left indexing on DAPHNE matrices using Python's square bracket <code>[]</code> operator to extract elements from a matrix or set elements into a matrix, respectively.</p>
<p>Extracting elements (right indexing) supports indexing by integer (e.g., <code>3</code>), slice (e.g, <code>:</code>, <code>:3</code>, <code>1:4</code>), or a DaphneLib column matrix of positions (do not need to be unique or sorted).
The extracted elements are always returned as a DaphneLib matrix, even if it is just a single element.</p>
<p>Setting elements (left indexing) currently only supports indexing by integer and slice.
The elements to insert must always be provided as a DaphneLib matrix, even if it is just a single element.</p>
<p><em>Examples:</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="kn">from</span> <span class="nn">daphne.context.daphne_context</span> <span class="kn">import</span> <span class="n">DaphneContext</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="n">dc</span> <span class="o">=</span> <span class="n">DaphneContext</span><span class="p">()</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="c1"># 10x5 matrix containing the numbers from 0 to 49.</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="n">X</span> <span class="o">=</span> <span class="n">dc</span><span class="o">.</span><span class="n">seq</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">49</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="c1"># Extract rows from 1 (inclusive) to 4 (exclusive).</span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="n">X</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span> <span class="p">:]</span><span class="o">.</span><span class="n">print</span><span class="p">()</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="c1"># Extract column 3.</span>
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="n">X</span><span class="p">[:,</span> <span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">print</span><span class="p">()</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a>
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="c1"># Extract columns 2 (inclusive) to 4 (exclusive) of rows [0, 3, 6].</span>
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a><span class="n">rowIdxs</span> <span class="o">=</span> <span class="n">dc</span><span class="o">.</span><span class="n">seq</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a><span class="n">X</span><span class="p">[</span><span class="n">rowIdxs</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">print</span><span class="p">()</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a>
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a><span class="c1"># Set columns 1 (inclusive) to 4 (exclusive) of row 3 to zero.</span>
<a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a><span class="n">X</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="n">dc</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a><span class="n">X</span><span class="o">.</span><span class="n">print</span><span class="p">()</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>
</code></pre></div>
<h3 id="matrixframescalar-methods">Matrix/Frame/Scalar Methods</h3>
<p>DaphneLib's classes <code>Matrix</code>, <code>Frame</code>, and <code>Scalar</code> offer a range of methods to call DAPHNE built-in functions.
A comprehensive list can be found in the <a href="/daphne/DaphneLib/APIRef#building-complex-computations">DaphneLib API reference</a>.</p>
<p><em>Examples:</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="n">X</span><span class="o">.</span><span class="n">t</span><span class="p">()</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="n">X</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="n">X</span><span class="o">.</span><span class="n">cbind</span><span class="p">(</span><span class="n">Y</span><span class="p">)</span>
</code></pre></div>
<h2 id="data-exchange-with-other-python-libraries">Data Exchange with other Python Libraries</h2>
<p>DaphneLib supports efficient data exchange with other well-known Python libraries, in both directions.
The data transfer from other Python libraries to DaphneLib can be triggered through the <code>from_...()</code> methods of the <code>DaphneContext</code> (e.g., <code>from_numpy()</code>).
A comprehensive list of these methods can be found in the <a href="/daphne/DaphneLib/APIRef#daphnecontext">DaphneLib API reference</a>.
The data transfer from DaphneLib back to Python happens during the call to <code>compute()</code>.
If the result of the computation in DAPHNE is a matrix, <code>compute()</code> returns a <code>numpy.ndarray</code> (or optionally a <code>tensorflow.Tensor</code> or <code>torch.Tensor</code>); if the result is a frame, it returns a <code>pandas.DataFrame</code>; and if the result is a scalar, it returns a plain Python scalar.</p>
<p>So far, DaphneLib can exchange data with numpy, pandas, TensorFlow, and PyTorch.
By default, the data transfer is via shared memory (and in many cases zero-copy).</p>
<h3 id="data-exchange-with-numpy">Data Exchange with numpy</h3>
<p><em>Example:</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="kn">from</span> <span class="nn">daphne.context.daphne_context</span> <span class="kn">import</span> <span class="n">DaphneContext</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="n">dc</span> <span class="o">=</span> <span class="n">DaphneContext</span><span class="p">()</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="c1"># Create data in numpy.</span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">8.0</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="c1"># Transfer data to DaphneLib (lazily evaluated).</span>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="n">X</span> <span class="o">=</span> <span class="n">dc</span><span class="o">.</span><span class="n">from_numpy</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;How DAPHNE sees the data from numpy:&quot;</span><span class="p">)</span>
<a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a><span class="n">X</span><span class="o">.</span><span class="n">print</span><span class="p">()</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>
<a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a>
<a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a><span class="c1"># Add 100 to each value in X.</span>
<a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a><span class="n">X</span> <span class="o">=</span> <span class="n">X</span> <span class="o">+</span> <span class="mf">100.0</span>
<a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a>
<a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a><span class="c1"># Compute in DAPHNE, transfer result back to Python.</span>
<a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Result of adding 100 to each value, back in Python:&quot;</span><span class="p">)</span>
<a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a><span class="nb">print</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">compute</span><span class="p">())</span>
</code></pre></div>
<p><em>Run by:</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>python3<span class="w"> </span>scripts/examples/daphnelib/data-exchange-numpy.py
</code></pre></div>
<p><em>Output:</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>How DAPHNE sees the data from numpy:
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>DenseMatrix(2x4, double)
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>0 1 2 3
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>4 5 6 7
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>Result of adding 100 to each value, back in Python:
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>[[100. 101. 102. 103.]
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a> [104. 105. 106. 107.]]
</code></pre></div>
<h3 id="data-exchange-with-pandas">Data Exchange with pandas</h3>
<p><em>Example:</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="kn">from</span> <span class="nn">daphne.context.daphne_context</span> <span class="kn">import</span> <span class="n">DaphneContext</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="n">dc</span> <span class="o">=</span> <span class="n">DaphneContext</span><span class="p">()</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="c1"># Create data in pandas.</span>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.1</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.2</span><span class="p">,</span> <span class="mf">3.3</span><span class="p">]})</span>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="c1"># Transfer data to DaphneLib (lazily evaluated).</span>
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="n">F</span> <span class="o">=</span> <span class="n">dc</span><span class="o">.</span><span class="n">from_pandas</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;How DAPHNE sees the data from pandas:&quot;</span><span class="p">)</span>
<a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a><span class="n">F</span><span class="o">.</span><span class="n">print</span><span class="p">()</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>
<a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a>
<a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a><span class="c1"># Append F to itself.</span>
<a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a><span class="n">F</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">rbind</span><span class="p">(</span><span class="n">F</span><span class="p">)</span>
<a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a>
<a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a><span class="c1"># Compute in DAPHNE, transfer result back to Python.</span>
<a id="__codelineno-9-19" name="__codelineno-9-19" href="#__codelineno-9-19"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Result of appending the frame to itself, back in Python:&quot;</span><span class="p">)</span>
<a id="__codelineno-9-20" name="__codelineno-9-20" href="#__codelineno-9-20"></a><span class="nb">print</span><span class="p">(</span><span class="n">F</span><span class="o">.</span><span class="n">compute</span><span class="p">())</span>
</code></pre></div>
<p><em>Run by:</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>python3<span class="w"> </span>scripts/examples/daphnelib/data-exchange-pandas.py
</code></pre></div>
<p><em>Output:</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>How DAPHNE sees the data from pandas:
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>Frame(3x2, [a:int64_t, b:double])
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>1 1.1
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>2 -2.2
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>3 3.3
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>Result of appending the frame to itself, back in Python:
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>   a    b
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a>0  2 -2.2
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a>1  3  3.3
<a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a>2  1  1.1
<a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a>3  2 -2.2
<a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a>4  3  3.3
</code></pre></div>
<h3 id="data-exchange-with-tensorflow">Data Exchange with TensorFlow</h3>
<p><em>Example:</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="kn">from</span> <span class="nn">daphne.context.daphne_context</span> <span class="kn">import</span> <span class="n">DaphneContext</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="kn">import</span> <span class="nn">tensorflow</span> <span class="k">as</span> <span class="nn">tf</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="n">dc</span> <span class="o">=</span> <span class="n">DaphneContext</span><span class="p">()</span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;========== 2D TENSOR EXAMPLE ==========</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="c1"># Create data in TensorFlow/numpy.</span>
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="n">t2d</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">constant</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)))</span>
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a>
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Original 2d tensor in TensorFlow:&quot;</span><span class="p">)</span>
<a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a><span class="nb">print</span><span class="p">(</span><span class="n">t2d</span><span class="p">)</span>
<a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a>
<a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a><span class="c1"># Transfer data to DaphneLib (lazily evaluated).</span>
<a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a><span class="n">T2D</span> <span class="o">=</span> <span class="n">dc</span><span class="o">.</span><span class="n">from_tensorflow</span><span class="p">(</span><span class="n">t2d</span><span class="p">)</span>
<a id="__codelineno-12-17" name="__codelineno-12-17" href="#__codelineno-12-17"></a>
<a id="__codelineno-12-18" name="__codelineno-12-18" href="#__codelineno-12-18"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">How DAPHNE sees the 2d tensor from TensorFlow:&quot;</span><span class="p">)</span>
<a id="__codelineno-12-19" name="__codelineno-12-19" href="#__codelineno-12-19"></a><span class="n">T2D</span><span class="o">.</span><span class="n">print</span><span class="p">()</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>
<a id="__codelineno-12-20" name="__codelineno-12-20" href="#__codelineno-12-20"></a>
<a id="__codelineno-12-21" name="__codelineno-12-21" href="#__codelineno-12-21"></a><span class="c1"># Add 100 to each value in T2D.</span>
<a id="__codelineno-12-22" name="__codelineno-12-22" href="#__codelineno-12-22"></a><span class="n">T2D</span> <span class="o">=</span> <span class="n">T2D</span> <span class="o">+</span> <span class="mf">100.0</span>
<a id="__codelineno-12-23" name="__codelineno-12-23" href="#__codelineno-12-23"></a>
<a id="__codelineno-12-24" name="__codelineno-12-24" href="#__codelineno-12-24"></a><span class="c1"># Compute in DAPHNE, transfer result back to Python.</span>
<a id="__codelineno-12-25" name="__codelineno-12-25" href="#__codelineno-12-25"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Result of adding 100, back in Python:&quot;</span><span class="p">)</span>
<a id="__codelineno-12-26" name="__codelineno-12-26" href="#__codelineno-12-26"></a><span class="nb">print</span><span class="p">(</span><span class="n">T2D</span><span class="o">.</span><span class="n">compute</span><span class="p">(</span><span class="n">asTensorFlow</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<a id="__codelineno-12-27" name="__codelineno-12-27" href="#__codelineno-12-27"></a>
<a id="__codelineno-12-28" name="__codelineno-12-28" href="#__codelineno-12-28"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">========== 3D TENSOR EXAMPLE ==========</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-12-29" name="__codelineno-12-29" href="#__codelineno-12-29"></a>
<a id="__codelineno-12-30" name="__codelineno-12-30" href="#__codelineno-12-30"></a><span class="c1"># Create data in TensorFlow/numpy.</span>
<a id="__codelineno-12-31" name="__codelineno-12-31" href="#__codelineno-12-31"></a><span class="n">t3d</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">constant</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)))</span>
<a id="__codelineno-12-32" name="__codelineno-12-32" href="#__codelineno-12-32"></a>
<a id="__codelineno-12-33" name="__codelineno-12-33" href="#__codelineno-12-33"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Original 3d tensor in TensorFlow:&quot;</span><span class="p">)</span>
<a id="__codelineno-12-34" name="__codelineno-12-34" href="#__codelineno-12-34"></a><span class="nb">print</span><span class="p">(</span><span class="n">t3d</span><span class="p">)</span>
<a id="__codelineno-12-35" name="__codelineno-12-35" href="#__codelineno-12-35"></a>
<a id="__codelineno-12-36" name="__codelineno-12-36" href="#__codelineno-12-36"></a><span class="c1"># Transfer data to DaphneLib (lazily evaluated).</span>
<a id="__codelineno-12-37" name="__codelineno-12-37" href="#__codelineno-12-37"></a><span class="n">T3D</span><span class="p">,</span> <span class="n">T3D_shape</span> <span class="o">=</span> <span class="n">dc</span><span class="o">.</span><span class="n">from_tensorflow</span><span class="p">(</span><span class="n">t3d</span><span class="p">,</span> <span class="n">return_shape</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-12-38" name="__codelineno-12-38" href="#__codelineno-12-38"></a>
<a id="__codelineno-12-39" name="__codelineno-12-39" href="#__codelineno-12-39"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">How DAPHNE sees the 3d tensor from TensorFlow:&quot;</span><span class="p">)</span>
<a id="__codelineno-12-40" name="__codelineno-12-40" href="#__codelineno-12-40"></a><span class="n">T3D</span><span class="o">.</span><span class="n">print</span><span class="p">()</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>
<a id="__codelineno-12-41" name="__codelineno-12-41" href="#__codelineno-12-41"></a>
<a id="__codelineno-12-42" name="__codelineno-12-42" href="#__codelineno-12-42"></a><span class="c1"># Add 100 to each value in T3D.</span>
<a id="__codelineno-12-43" name="__codelineno-12-43" href="#__codelineno-12-43"></a><span class="n">T3D</span> <span class="o">=</span> <span class="n">T3D</span> <span class="o">+</span> <span class="mf">100.0</span>
<a id="__codelineno-12-44" name="__codelineno-12-44" href="#__codelineno-12-44"></a>
<a id="__codelineno-12-45" name="__codelineno-12-45" href="#__codelineno-12-45"></a><span class="c1"># Compute in DAPHNE, transfer result back to Python.</span>
<a id="__codelineno-12-46" name="__codelineno-12-46" href="#__codelineno-12-46"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Result of adding 100, back in Python:&quot;</span><span class="p">)</span>
<a id="__codelineno-12-47" name="__codelineno-12-47" href="#__codelineno-12-47"></a><span class="nb">print</span><span class="p">(</span><span class="n">T3D</span><span class="o">.</span><span class="n">compute</span><span class="p">(</span><span class="n">asTensorFlow</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<a id="__codelineno-12-48" name="__codelineno-12-48" href="#__codelineno-12-48"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Result of adding 100, back in Python (with original shape):&quot;</span><span class="p">)</span>
<a id="__codelineno-12-49" name="__codelineno-12-49" href="#__codelineno-12-49"></a><span class="nb">print</span><span class="p">(</span><span class="n">T3D</span><span class="o">.</span><span class="n">compute</span><span class="p">(</span><span class="n">asTensorFlow</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="n">T3D_shape</span><span class="p">))</span>
</code></pre></div>
<p><em>Run by:</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>python3<span class="w"> </span>scripts/examples/daphnelib/data-exchange-tensorflow.py
</code></pre></div>
<p><em>Output (random numbers may vary):</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>========== 2D TENSOR EXAMPLE ==========
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>Original 2d tensor in TensorFlow:
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>tf.Tensor(
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>[[0.09682179 0.09636572 0.78658016 0.68227129]
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a> [0.64356184 0.96337785 0.07931763 0.97951051]], shape=(2, 4), dtype=float64)
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a>How DAPHNE sees the 2d tensor from TensorFlow:
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a>DenseMatrix(2x4, double)
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a>0.0968218 0.0963657 0.78658 0.682271
<a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a>0.643562 0.963378 0.0793176 0.979511
<a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a>
<a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a>Result of adding 100, back in Python:
<a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a>tf.Tensor(
<a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a>[[100.09682179 100.09636572 100.78658016 100.68227129]
<a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a> [100.64356184 100.96337785 100.07931763 100.97951051]], shape=(2, 4), dtype=float64)
<a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a>
<a id="__codelineno-14-18" name="__codelineno-14-18" href="#__codelineno-14-18"></a>========== 3D TENSOR EXAMPLE ==========
<a id="__codelineno-14-19" name="__codelineno-14-19" href="#__codelineno-14-19"></a>
<a id="__codelineno-14-20" name="__codelineno-14-20" href="#__codelineno-14-20"></a>Original 3d tensor in TensorFlow:
<a id="__codelineno-14-21" name="__codelineno-14-21" href="#__codelineno-14-21"></a>tf.Tensor(
<a id="__codelineno-14-22" name="__codelineno-14-22" href="#__codelineno-14-22"></a>[[[0.40088013 0.02324858]
<a id="__codelineno-14-23" name="__codelineno-14-23" href="#__codelineno-14-23"></a>  [0.87607911 0.91645907]]
<a id="__codelineno-14-24" name="__codelineno-14-24" href="#__codelineno-14-24"></a>
<a id="__codelineno-14-25" name="__codelineno-14-25" href="#__codelineno-14-25"></a> [[0.10591184 0.92419294]
<a id="__codelineno-14-26" name="__codelineno-14-26" href="#__codelineno-14-26"></a>  [0.5397723  0.24957817]]], shape=(2, 2, 2), dtype=float64)
<a id="__codelineno-14-27" name="__codelineno-14-27" href="#__codelineno-14-27"></a>
<a id="__codelineno-14-28" name="__codelineno-14-28" href="#__codelineno-14-28"></a>How DAPHNE sees the 3d tensor from TensorFlow:
<a id="__codelineno-14-29" name="__codelineno-14-29" href="#__codelineno-14-29"></a>DenseMatrix(2x4, double)
<a id="__codelineno-14-30" name="__codelineno-14-30" href="#__codelineno-14-30"></a>0.40088 0.0232486 0.876079 0.916459
<a id="__codelineno-14-31" name="__codelineno-14-31" href="#__codelineno-14-31"></a>0.105912 0.924193 0.539772 0.249578
<a id="__codelineno-14-32" name="__codelineno-14-32" href="#__codelineno-14-32"></a>
<a id="__codelineno-14-33" name="__codelineno-14-33" href="#__codelineno-14-33"></a>Result of adding 100, back in Python:
<a id="__codelineno-14-34" name="__codelineno-14-34" href="#__codelineno-14-34"></a>tf.Tensor(
<a id="__codelineno-14-35" name="__codelineno-14-35" href="#__codelineno-14-35"></a>[[100.40088013 100.02324858 100.87607911 100.91645907]
<a id="__codelineno-14-36" name="__codelineno-14-36" href="#__codelineno-14-36"></a> [100.10591184 100.92419294 100.5397723  100.24957817]], shape=(2, 4), dtype=float64)
<a id="__codelineno-14-37" name="__codelineno-14-37" href="#__codelineno-14-37"></a>
<a id="__codelineno-14-38" name="__codelineno-14-38" href="#__codelineno-14-38"></a>Result of adding 100, back in Python (with original shape):
<a id="__codelineno-14-39" name="__codelineno-14-39" href="#__codelineno-14-39"></a>tf.Tensor(
<a id="__codelineno-14-40" name="__codelineno-14-40" href="#__codelineno-14-40"></a>[[[100.40088013 100.02324858]
<a id="__codelineno-14-41" name="__codelineno-14-41" href="#__codelineno-14-41"></a>  [100.87607911 100.91645907]]
<a id="__codelineno-14-42" name="__codelineno-14-42" href="#__codelineno-14-42"></a>
<a id="__codelineno-14-43" name="__codelineno-14-43" href="#__codelineno-14-43"></a> [[100.10591184 100.92419294]
<a id="__codelineno-14-44" name="__codelineno-14-44" href="#__codelineno-14-44"></a>  [100.5397723  100.24957817]]], shape=(2, 2, 2), dtype=float64)
</code></pre></div>
<h3 id="data-exchange-with-pytorch">Data Exchange with PyTorch</h3>
<p><em>Example:</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="kn">from</span> <span class="nn">daphne.context.daphne_context</span> <span class="kn">import</span> <span class="n">DaphneContext</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="kn">import</span> <span class="nn">torch</span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="n">dc</span> <span class="o">=</span> <span class="n">DaphneContext</span><span class="p">()</span>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;========== 2D TENSOR EXAMPLE ==========</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a>
<a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="c1"># Create data in PyTorch/numpy.</span>
<a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="n">t2d</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)))</span>
<a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a>
<a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Original 2d tensor in PyTorch:&quot;</span><span class="p">)</span>
<a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a><span class="nb">print</span><span class="p">(</span><span class="n">t2d</span><span class="p">)</span>
<a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a>
<a id="__codelineno-15-15" name="__codelineno-15-15" href="#__codelineno-15-15"></a><span class="c1"># Transfer data to DaphneLib (lazily evaluated).</span>
<a id="__codelineno-15-16" name="__codelineno-15-16" href="#__codelineno-15-16"></a><span class="n">T2D</span> <span class="o">=</span> <span class="n">dc</span><span class="o">.</span><span class="n">from_pytorch</span><span class="p">(</span><span class="n">t2d</span><span class="p">)</span>
<a id="__codelineno-15-17" name="__codelineno-15-17" href="#__codelineno-15-17"></a>
<a id="__codelineno-15-18" name="__codelineno-15-18" href="#__codelineno-15-18"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">How DAPHNE sees the 2d tensor from PyTorch:&quot;</span><span class="p">)</span>
<a id="__codelineno-15-19" name="__codelineno-15-19" href="#__codelineno-15-19"></a><span class="n">T2D</span><span class="o">.</span><span class="n">print</span><span class="p">()</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>
<a id="__codelineno-15-20" name="__codelineno-15-20" href="#__codelineno-15-20"></a>
<a id="__codelineno-15-21" name="__codelineno-15-21" href="#__codelineno-15-21"></a><span class="c1"># Add 100 to each value in T2D.</span>
<a id="__codelineno-15-22" name="__codelineno-15-22" href="#__codelineno-15-22"></a><span class="n">T2D</span> <span class="o">=</span> <span class="n">T2D</span> <span class="o">+</span> <span class="mf">100.0</span>
<a id="__codelineno-15-23" name="__codelineno-15-23" href="#__codelineno-15-23"></a>
<a id="__codelineno-15-24" name="__codelineno-15-24" href="#__codelineno-15-24"></a><span class="c1"># Compute in DAPHNE, transfer result back to Python.</span>
<a id="__codelineno-15-25" name="__codelineno-15-25" href="#__codelineno-15-25"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Result of adding 100, back in Python:&quot;</span><span class="p">)</span>
<a id="__codelineno-15-26" name="__codelineno-15-26" href="#__codelineno-15-26"></a><span class="nb">print</span><span class="p">(</span><span class="n">T2D</span><span class="o">.</span><span class="n">compute</span><span class="p">(</span><span class="n">asPyTorch</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<a id="__codelineno-15-27" name="__codelineno-15-27" href="#__codelineno-15-27"></a>
<a id="__codelineno-15-28" name="__codelineno-15-28" href="#__codelineno-15-28"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">========== 3D TENSOR EXAMPLE ==========</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-15-29" name="__codelineno-15-29" href="#__codelineno-15-29"></a>
<a id="__codelineno-15-30" name="__codelineno-15-30" href="#__codelineno-15-30"></a><span class="c1"># Create data in PyTorch/numpy.</span>
<a id="__codelineno-15-31" name="__codelineno-15-31" href="#__codelineno-15-31"></a><span class="n">t3d</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)))</span>
<a id="__codelineno-15-32" name="__codelineno-15-32" href="#__codelineno-15-32"></a>
<a id="__codelineno-15-33" name="__codelineno-15-33" href="#__codelineno-15-33"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Original 3d tensor in PyTorch:&quot;</span><span class="p">)</span>
<a id="__codelineno-15-34" name="__codelineno-15-34" href="#__codelineno-15-34"></a><span class="nb">print</span><span class="p">(</span><span class="n">t3d</span><span class="p">)</span>
<a id="__codelineno-15-35" name="__codelineno-15-35" href="#__codelineno-15-35"></a>
<a id="__codelineno-15-36" name="__codelineno-15-36" href="#__codelineno-15-36"></a><span class="c1"># Transfer data to DaphneLib (lazily evaluated).</span>
<a id="__codelineno-15-37" name="__codelineno-15-37" href="#__codelineno-15-37"></a><span class="n">T3D</span><span class="p">,</span> <span class="n">T3D_shape</span> <span class="o">=</span> <span class="n">dc</span><span class="o">.</span><span class="n">from_pytorch</span><span class="p">(</span><span class="n">t3d</span><span class="p">,</span> <span class="n">return_shape</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-15-38" name="__codelineno-15-38" href="#__codelineno-15-38"></a>
<a id="__codelineno-15-39" name="__codelineno-15-39" href="#__codelineno-15-39"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">How DAPHNE sees the 3d tensor from PyTorch:&quot;</span><span class="p">)</span>
<a id="__codelineno-15-40" name="__codelineno-15-40" href="#__codelineno-15-40"></a><span class="n">T3D</span><span class="o">.</span><span class="n">print</span><span class="p">()</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>
<a id="__codelineno-15-41" name="__codelineno-15-41" href="#__codelineno-15-41"></a>
<a id="__codelineno-15-42" name="__codelineno-15-42" href="#__codelineno-15-42"></a><span class="c1"># Add 100 to each value in T3D.</span>
<a id="__codelineno-15-43" name="__codelineno-15-43" href="#__codelineno-15-43"></a><span class="n">T3D</span> <span class="o">=</span> <span class="n">T3D</span> <span class="o">+</span> <span class="mf">100.0</span>
<a id="__codelineno-15-44" name="__codelineno-15-44" href="#__codelineno-15-44"></a>
<a id="__codelineno-15-45" name="__codelineno-15-45" href="#__codelineno-15-45"></a><span class="c1"># Compute in DAPHNE, transfer result back to Python.</span>
<a id="__codelineno-15-46" name="__codelineno-15-46" href="#__codelineno-15-46"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Result of adding 100, back in Python:&quot;</span><span class="p">)</span>
<a id="__codelineno-15-47" name="__codelineno-15-47" href="#__codelineno-15-47"></a><span class="nb">print</span><span class="p">(</span><span class="n">T3D</span><span class="o">.</span><span class="n">compute</span><span class="p">(</span><span class="n">asPyTorch</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<a id="__codelineno-15-48" name="__codelineno-15-48" href="#__codelineno-15-48"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Result of adding 100, back in Python (with original shape):&quot;</span><span class="p">)</span>
<a id="__codelineno-15-49" name="__codelineno-15-49" href="#__codelineno-15-49"></a><span class="nb">print</span><span class="p">(</span><span class="n">T3D</span><span class="o">.</span><span class="n">compute</span><span class="p">(</span><span class="n">asPyTorch</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="n">T3D_shape</span><span class="p">))</span>
</code></pre></div>
<p><em>Run by:</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>python3<span class="w"> </span>scripts/examples/daphnelib/data-exchange-pytorch.py
</code></pre></div>
<p><em>Output (random numbers may vary):</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>========== 2D TENSOR EXAMPLE ==========
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>Original 2d tensor in PyTorch:
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>tensor([[0.1205, 0.8747, 0.1717, 0.0216],
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>        [0.7999, 0.6932, 0.4386, 0.0873]], dtype=torch.float64)
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a>How DAPHNE sees the 2d tensor from PyTorch:
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a>DenseMatrix(2x4, double)
<a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a>0.120505 0.874691 0.171693 0.0215546
<a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a>0.799858 0.693205 0.438637 0.0872659
<a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a>
<a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a>Result of adding 100, back in Python:
<a id="__codelineno-17-13" name="__codelineno-17-13" href="#__codelineno-17-13"></a>tensor([[100.1205, 100.8747, 100.1717, 100.0216],
<a id="__codelineno-17-14" name="__codelineno-17-14" href="#__codelineno-17-14"></a>        [100.7999, 100.6932, 100.4386, 100.0873]], dtype=torch.float64)
<a id="__codelineno-17-15" name="__codelineno-17-15" href="#__codelineno-17-15"></a>
<a id="__codelineno-17-16" name="__codelineno-17-16" href="#__codelineno-17-16"></a>========== 3D TENSOR EXAMPLE ==========
<a id="__codelineno-17-17" name="__codelineno-17-17" href="#__codelineno-17-17"></a>
<a id="__codelineno-17-18" name="__codelineno-17-18" href="#__codelineno-17-18"></a>Original 3d tensor in PyTorch:
<a id="__codelineno-17-19" name="__codelineno-17-19" href="#__codelineno-17-19"></a>tensor([[[0.5474, 0.9653],
<a id="__codelineno-17-20" name="__codelineno-17-20" href="#__codelineno-17-20"></a>         [0.7891, 0.0573]],
<a id="__codelineno-17-21" name="__codelineno-17-21" href="#__codelineno-17-21"></a>
<a id="__codelineno-17-22" name="__codelineno-17-22" href="#__codelineno-17-22"></a>        [[0.4116, 0.6326],
<a id="__codelineno-17-23" name="__codelineno-17-23" href="#__codelineno-17-23"></a>         [0.3148, 0.3607]]], dtype=torch.float64)
<a id="__codelineno-17-24" name="__codelineno-17-24" href="#__codelineno-17-24"></a>
<a id="__codelineno-17-25" name="__codelineno-17-25" href="#__codelineno-17-25"></a>How DAPHNE sees the 3d tensor from PyTorch:
<a id="__codelineno-17-26" name="__codelineno-17-26" href="#__codelineno-17-26"></a>DenseMatrix(2x4, double)
<a id="__codelineno-17-27" name="__codelineno-17-27" href="#__codelineno-17-27"></a>0.547449 0.965315 0.78909 0.0572619
<a id="__codelineno-17-28" name="__codelineno-17-28" href="#__codelineno-17-28"></a>0.411593 0.632629 0.314841 0.360657
<a id="__codelineno-17-29" name="__codelineno-17-29" href="#__codelineno-17-29"></a>
<a id="__codelineno-17-30" name="__codelineno-17-30" href="#__codelineno-17-30"></a>Result of adding 100, back in Python:
<a id="__codelineno-17-31" name="__codelineno-17-31" href="#__codelineno-17-31"></a>tensor([[100.5474, 100.9653, 100.7891, 100.0573],
<a id="__codelineno-17-32" name="__codelineno-17-32" href="#__codelineno-17-32"></a>        [100.4116, 100.6326, 100.3148, 100.3607]], dtype=torch.float64)
<a id="__codelineno-17-33" name="__codelineno-17-33" href="#__codelineno-17-33"></a>
<a id="__codelineno-17-34" name="__codelineno-17-34" href="#__codelineno-17-34"></a>Result of adding 100, back in Python (with original shape):
<a id="__codelineno-17-35" name="__codelineno-17-35" href="#__codelineno-17-35"></a>tensor([[[100.5474, 100.9653],
<a id="__codelineno-17-36" name="__codelineno-17-36" href="#__codelineno-17-36"></a>         [100.7891, 100.0573]],
<a id="__codelineno-17-37" name="__codelineno-17-37" href="#__codelineno-17-37"></a>
<a id="__codelineno-17-38" name="__codelineno-17-38" href="#__codelineno-17-38"></a>        [[100.4116, 100.6326],
<a id="__codelineno-17-39" name="__codelineno-17-39" href="#__codelineno-17-39"></a>         [100.3148, 100.3607]]], dtype=torch.float64)
</code></pre></div>
<h2 id="known-limitations">Known Limitations</h2>
<p>DaphneLib is still in an early development stage.
Thus, there are a few limitations that users should be aware of.
We plan to fix all of these limitations in the future.</p>
<ul>
<li>Using DAPHNE's command-line arguments to influence its behavior is not supported yet.</li>
<li>Some DaphneDSL built-in functions are not represented by DaphneLib methods yet.</li>
<li>High-level primitives for integrated data analysis pipelines, which are implemented in DaphneDSL, cannot be called from DaphneLib yet.</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "navigation.tabs", "navigation.tabs.sticky"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>